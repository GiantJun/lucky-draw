# 🎉 年会抽奖系统

> 基于 Vue 2 的 3D 标签云年会抽奖系统，支持灵活的奖品配置和多种抽奖模式

[✨ 在线演示](https://GiantJun.github.io/lucky-draw/)

## ✨ 功能特色

- 👥 **人员管理** - 支持区分员工类型（正职/外包）
- 📁 **CSV 导入** - 批量导入人员名单和奖品配置
- 🎲 **额外抽奖次数** - 提升特定人员中奖概率
- 🎯 **分级抽奖策略** - 可配置不同等级的额外抽奖次数规则
- 🏆 **多等级奖品** - 特等奖/一等奖/二等奖/三等奖
- 🎁 **智能抽取模式** - 特一二等奖支持两种抽取方式
  - 💫 **整个等级一次抽完** - 一键抽取该等级所有奖品，自动按顺序分配
  - 🎯 **单独抽取具体奖品** - 灵活选择某个奖品进行抽取
- 🔀 **灵活中奖规则** - 可控制同一人多次中奖行为
- 📸 **照片展示** - 中奖结果可显示人员照片
- 🌀 **3D 可视化** - 炫酷的 3D 标签云滚动效果

## 📝 CSV 文件格式

### 👨‍💼 人员名单

```csv
人名,员工类型,额外抽奖次数
张三,正职,2
李四,外包,0
王五,正职,1
```

| 字段 | 说明 | 示例 |
|------|------|------|
| 人名 | 参与人员姓名 | 张三 |
| 员工类型 | `正职` 或 `外包` | 正职 |
| 额外抽奖次数 | 额外参与次数，0 表示只参与 1 次 | 2 |

💡 **提示**：额外抽奖次数为 2 时，在生效的等级中候选名单会显示 "张三1"、"张三2"

### 🎁 奖品配置

```csv
奖品等级,奖品名称,数量,参与人员类别
特等奖,iPhone 15 Pro,1,正职
一等奖,iPad Air,2,正职
一等奖,AirPods Pro,1,正职
二等奖,小米手环,5,外包
三等奖,保温杯,10,全部
```

| 字段 | 说明 | 可选值 |
|------|------|--------|
| 奖品等级 | 奖品的等级 | 特等奖/一等奖/二等奖/三等奖 |
| 奖品名称 | 具体的奖品名称 | - |
| 数量 | 该奖品的数量 | 数字 |
| 参与人员类别 | 哪些人可以参与 | 正职/外包/全部 |

## 🚀 快速开始

### 1️⃣ 配置抽奖

**方式一：加载示例数据（推荐）**
1. 点击右上角 **"抽奖配置"** 按钮
2. 点击 **"加载示例数据"** → 自动导入示例配置
3. 点击 **"保存配置"** → 开始抽奖 🎊

**方式二：导入自定义 CSV**
1. 准备好人员名单和奖品配置 CSV 文件
2. 点击右上角 **"抽奖配置"** → **"导入 CSV"**
3. 分别导入人员名单和奖品配置
4. 点击 **"保存配置"** 完成

### 2️⃣ 开始抽奖

#### 🏆 特等奖/一等奖/二等奖

1. 点击右侧 **"开始"** 按钮
2. 选择奖品等级
3. 选择抽取模式：
   - **💫 一次抽取完整个等级（默认）**
     - 显示该等级所有奖品列表
     - 一键抽取所有剩余奖品
     - 自动按顺序分配给中奖者
     - 结果显示每人获得的具体奖品
   - **🎯 选择具体奖品**
     - 选择该等级下的某个奖品
     - 自由选择抽取方式（抽 1 人/抽 5 人/一次抽完/自定义）
4. 点击 **"立即抽奖"** → 3D 标签云开始滚动 🌀
5. 点击 **"停止"** → 显示中奖结果 🎉

#### 🎯 三等奖

1. 点击右侧 **"开始"** 按钮
2. 选择奖品等级 → 选择具体奖品
3. 选择抽取方式（抽 1 人/抽 5 人/一次抽完/自定义）
4. 点击 **"立即抽奖"** → 🌀 → 点击 **"停止"** → 🎉

### 3️⃣ 查看结果

- 📊 点击右上角 **"抽奖结果"** 查看所有中奖记录
- 🗑️ 点击中奖人员卡片可删除记录，该人员可继续参与抽奖

## ⚙️ 功能配置

### 🎲 额外抽奖次数

**功能开关：**
- ✅ **开启**：使用 CSV 中配置的额外抽奖次数
- ❌ **关闭**：所有人只显示真实姓名，忽略额外抽奖次数配置

**生效的奖品等级：**（开启额外抽奖次数后可配置）
- 📋 多选下拉框，可勾选：特等奖、一等奖、二等奖、三等奖
- 🎯 **默认配置**：特等奖 ✅、一等奖 ✅、二等奖 ✅、三等奖 ❌
- 💡 **作用**：只有被勾选的等级才会应用额外抽奖次数，未勾选的等级所有人只出现一次

**使用场景示例：**

| 配置 | 张三额外抽奖次数=2 | 特等奖候选池 | 一等奖候选池 | 二等奖候选池 | 三等奖候选池 |
|------|------------------|------------|------------|------------|------------|
| 默认配置 | ✅ 特一二生效 | 张三1、张三2 | 张三1、张三2 | 张三1、张三2 | 张三 |
| 全部生效 | ✅ 全部生效 | 张三1、张三2 | 张三1、张三2 | 张三1、张三2 | 张三1、张三2 |
| 仅特等奖 | ✅ 仅特等奖 | 张三1、张三2 | 张三 | 张三 | 张三 |
| 关闭功能 | ❌ 全部不生效 | 张三 | 张三 | 张三 | 张三 |

**典型应用：**
- 🏆 **高等奖重点激励**：特一二等奖应用额外次数，三等奖公平分配
- 🎯 **分层策略**：不同等级采用不同的激励策略
- ⚖️ **完全公平模式**：关闭功能或不勾选任何等级，所有人机会平等

### 🎯 一人中奖全部失效

- ✅ **开启（默认）**：张三1 中奖后，张三2 也不能再参与任何抽奖
- ❌ **关闭**：张三1 中奖后，张三2 还可以抽其他奖品

### 📸 导入照片（可选）

- 支持格式：`.jpg` / `.png`
- 建议大小：20-50kb（最大 150kb）
- 建议尺寸：160 x 160px
- 中奖结果将以照片形式展示

### 🔄 重置功能

1. 重置全部数据
2. 重置抽奖配置
3. 重置人员名单
4. 重置奖品配置
5. 重置照片
6. 重置抽奖结果

## 💻 本地开发

### 📦 安装依赖
```bash
npm install
```

### 🔧 运行开发环境
```bash
npm run dev
```
访问 http://localhost:8080

### 📦 打包生产版本
```bash
npm run build
```
打包后的文件在 `dist` 目录

### 🚀 部署到 GitHub Pages
```bash
npm run deploy
```

## 🛠️ 技术栈

- ⚡ Vue 2.6
- 🎨 Element UI 2.13
- 📦 Vuex 3.1
- 🛣️ Vue Router 3.1
- 🌀 TagCanvas（3D 效果）
- 🔨 Vue CLI 4.1

## 💡 温馨提示

- ✅ 完全透明公正，无暗箱操作
- 💾 数据存储在浏览器本地，刷新不丢失
- 🌐 建议使用 Chrome 浏览器
- 🎵 背景音乐加载较慢，可提前打开缓存

## 📜 License

[MIT](https://choosealicense.com/licenses/mit/)

---

💖 本项目基于 [vitozyf/lucky-draw](https://github.com/vitozyf/lucky-draw) 魔改
